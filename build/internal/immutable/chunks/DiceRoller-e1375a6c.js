import{S as fe,i as ve,s as be,k as y,q as U,a as O,l as f,m as v,r as F,h as d,c as P,n as k,Q as ae,b as G,G as h,K as z,B as se,P as V,O as ke,H as me,u as oe,T as W,U as Q}from"./index-1c5e5a02.js";import{w as ge}from"./index-5f0038cd.js";const ie=t=>[2,4,6,8,10,12,20].includes(t),_e=t=>Number.isInteger(t)&&ie(t)?Math.ceil(Math.random()*t):Array.isArray(t)&&ie(t.length)?t[Math.floor(Math.random()*t.length)]:"Not a valid die",Te=t=>{const s=t.reduce((e,l)=>(typeof e[l.value]>"u"?e[l.value]=1:e[l.value]+=1,e),{});return console.log(s),s},Re=t=>{let s=t.length,e;for(;s!=0;)e=Math.floor(Math.random()*s),s--,[t[s],t[e]]=[t[e],t[s]];return t},Y=ge([{id:0,value:"",keep:!1},{id:1,value:"",keep:!1},{id:2,value:"",keep:!1},{id:3,value:"",keep:!1},{id:4,value:"",keep:!1},{id:5,value:"",keep:!1}]),Ee=[{label:"heal"},{label:"attack"},{label:"money"},{label:"one"},{label:"two"},{label:"three"}],De=[{label:"Corner Store",status:"active",type:"discard",cost:3,description:"+1[vp]"},{label:"Flame Thrower",status:"active",type:"discard",cost:3,description:"All other Monsters lose 2[health]"},{label:"Evacuation Orders",status:"active",type:"discard",cost:7,description:"All other Monsters lose 5[vp]"},{label:"Evacuation Orders",status:"active",type:"discard",cost:7,description:"All other Monsters lose 5[vp]"},{label:"High Altitude Bombing",status:"active",type:"discard",cost:4,description:"All Monsters (including you) lose 3[health]"},{label:"Gas Refinery",status:"active",type:"discard",cost:3,description:"+2[vp] and all other Monsters lose 3[health]"},{label:"Nuclear Power Plant",status:"active",type:"discard",cost:6,description:"+2[vp] +3[health]"},{label:"Skyscraper",status:"active",type:"discard",cost:6,description:"+4[vp]"},{label:"Tank",status:"active",type:"discard",cost:4,description:"+4[vp] -3[health]"},{label:"Energize",status:"active",type:"discard",cost:8,description:"+9[energy]"},{label:"Apartment Building",status:"active",type:"discard",cost:5,description:"+3[vp]"},{label:"Frenzy",status:"active",type:"discard",cost:7,description:"Take another turn after this one."},{label:"Vast Storm",status:"active",type:"discard",cost:6,description:"+2[vp] and all other Monsters lose 1[money] for every 2[money] they have."},{label:"Jet Fighters",status:"active",type:"discard",cost:5,description:"+5[vp], -4[health]"},{label:"Death from Above",status:"active",type:"discard",cost:5,description:"+2[vp] and take control of Tokyo if you don't already control it. All other Monsters must yield Tokyo."},{label:"Commuter Train",status:"active",type:"discard",cost:4,description:"+2[vp]"},{label:"Monster Pets",status:"active",type:"discard",cost:0,description:"All Monsters (including you) lost 3[vp]"},{label:"Poison Quills",status:"active",type:"keep",cost:3,description:"When you roll at least [2][2][2], add [attack][attack] to your roll"},{label:"It Has a Child",status:"inactive",type:"keep",cost:7,description:"If you reach [0 health], discard all your cards and tiles, lose all your [vp] and Yield Tokyo. Gain 10[health] and continue playing."},{label:"Zombify",status:"inactive",type:"keep",cost:4,description:"If you reach [0 health] for the first time in this game, discard all your cards and tiles, lose all your [vp], Yield Tokyo, gain 12[health] and continue playing. For the rest of the game, your maximum [health] is increased to 12[health] and you can't use [hearts] anymore."},{label:"Wings",status:"active",type:"keep",cost:6,description:"Spend 2[money] to not lose [health] this turn."},{label:"Acid Attack",status:"active",type:"keep",cost:6,description:"Add [attack] to your Roll."},{label:"Spiked Tail",status:"active",type:"keep",cost:5,description:"If you roll at least one [attack], add [attack] to your Roll."},{label:"Burrowing",status:"active",type:"keep",cost:5,description:"Add [attack] to your Roll while you are in Tokyo. When you yield Tokyo, the Monster taking control of it loses 1[health]."},{label:"Herbivore",status:"active",type:"keep",cost:5,description:"Gain 1[vp] at the end of your turn if you don't make anyone lose [health]."},{label:"Plot Twist",status:"active",type:"keep",cost:3,description:"Before resolving your dice, you may change one die to any result. Discard when used."},{label:"Media-Friendly",status:"active",type:"keep",cost:3,description:"Gain 1[vp] whenever you buy a Power Card."},{label:"Detritivore",status:"active",type:"keep",cost:4,description:"If you roll at least [1][2][3], gain 2[vp], in addition to the regular effects."},{label:"Stretchy",status:"active",type:"keep",cost:3,description:"Before resolving your dice, you can spend 2[money] to change one of your dice to any result."},{label:"Friend of Children",status:"active",type:"keep",cost:3,description:"When you gain any [money] gain 1 extra [money]."},{label:"We're Only Making It Stronger",status:"active",type:"keep",cost:3,description:"Each time you lose at least 2[health], you gain 1[money]."},{label:"Made in a Lab",status:"inactive",type:"keep",cost:2,description:"During the Buy Power Cards step, you may peak at the top card and buy it or put it back on the top of the deck."},{label:"Jets",status:"active",type:"keep",cost:5,description:"You don't lose [health] if you decide to yield Tokyo."},{label:"Lunar Powered",status:"active",type:"keep",cost:3,description:"At the end of your turn gain 2[money] if you have no [money]."},{label:"Fire Breathing",status:"active",type:"keep",cost:4,description:"When you roll at least one [attack], your neighbours(s) at the table lose 1 extra [health]."},{label:"Opportunist",status:"active",type:"keep",cost:3,description:"Whenever a Power Card is revealed, you may buy it immediately."},{label:"Energy Drink",status:"inactive",type:"keep",cost:4,description:"Spend 1[money] to get 1 extra die roll."},{label:"Urbavore",status:"active",type:"keep",cost:4,description:"Gain 1 extra [vp] when beginning your turn in Tokyo. If you are in Tokyo and you roll at least [attack], add [attack] to your Roll."},{label:"Even Bigger",status:"active",type:"keep",cost:4,description:"+2[health] when you buy this card. Your maximum [health] is increased to 12[health] as long as you own this card."},{label:"Regeneration",status:"active",type:"keep",cost:4,description:"Each time you gain [health] you gain 1 extra [health]."},{label:"Gourmet",status:"active",type:"keep",cost:6,description:"When you roll at least [1][1][1], gain 2 extra [vp] in addition to the regular effects."},{label:"Reflective Hide",status:"active",type:"keep",cost:6,description:"Any Monster that makes you lose [health] loses 1[health] as well."},{label:"Backgroud Dweller",status:"inactive",type:"keep",cost:4,description:"You can always reroll any [3] you have."},{label:"Metamorph",status:"inactive",type:"keep",cost:3,description:"At the end of your turn you can discard any [keep] cards you have to gain their full cost in [money]."},{label:"Giant Brain",status:"inactive",type:"keep",cost:5,description:"You have one extra die roll each turn."},{label:"Natural Selection",status:"inactive",type:"keep",cost:2,description:"+4[money] +4[health] Use an extra die. If you ever end your turn with at least [3], you lose all your [health]."},{label:"Nanobots",status:"active",type:"keep",cost:3,description:"At the start of your turn, if you have fewer than 3[health], gain 2[health]."},{label:"Alpha Monster",status:"active",type:"keep",cost:5,description:"Gain 1[vp] when you you roll at least [attack]."},{label:"Energy Hoarder",status:"active",type:"keep",cost:3,description:"You gain 1[vp] for every 6[money] you have at the end of your turn."},{label:"Alien Origin",status:"active",type:"keep",cost:3,description:"Buying Power Cards costs you 1 less [money] per card."},{label:"Hibernation",status:"active",type:"keep",cost:4,description:"You CANNOT buy this card while in Tokyo. You no longer take damage. You cannot move, even if Tokyo is empty. You can no longer buy cards. The only results you can use are [heart] and [energy]. Discard this card to end its effects and restrictions immediately."},{label:"Parasitic Tentacles",status:"inactive",type:"keep",cost:4,description:"You may buy [keep] cards from other Monsters. Pay them the [money] cost."},{label:"Eater of the Dead",status:"active",type:"keep",cost:4,description:"Gain 3[vp] every time a Monster's [health] goes to [0 health]."},{label:"Nova Breath",status:"active",type:"keep",cost:7,description:"All of your [attack] Smash all other Mosnters."},{label:"Smoke Cloud",status:"inactive",type:"keep",cost:4,description:"Place 3 Smoke tokens on this card. Spend 1 Smoke token for an extra die roll. Discard this card when all Smoke tokens are spent."},{label:"Extra Head",status:"inactive",type:"keep",cost:7,description:"Get 1 extra die."},{label:"Complete Destruction",status:"active",type:"keep",cost:3,description:"If you roll [1][2][3][heart][attack][energy], gain 9[vp] in addition to the regular effects."},{label:"Unstable DNA",status:"inactive",type:"keep",cost:3,description:"When you Yield Tokyo, you may exchange this card with a card of your choice from the Monster who Smashed you."},{label:"Psychic Probe",status:"inactive",type:"keep",cost:3,description:"You can Reroll a die of your choice after the last Roll of each other Monster. If the result of your reroll is [heart], discard this card."},{label:"Super Jump",status:"active",type:"keep",cost:4,description:"Once each player's turn, you may spend 1[money] to negate the loss of 1[health]."},{label:"Rapid Healing",status:"active",type:"keep",cost:3,description:"Spend 2[money] at any time to gain 1[health]. This may be used to prevent your health from being reduced to [0 health]."},{label:"Armour Plating",status:"active",type:"keep",cost:4,description:"Do not lose [health] when you lose exactly 1[health]."},{label:"Freeze Time",status:"active",type:"keep",cost:6,description:"When you roll at least [1][1][1], you can take another turn with one less die."},{label:"Shrink Ray",status:"active",type:"keep",cost:6,description:"Give 1 Shrink Ray token to each Monster you Smash with your [attack]. At the beginning of their turn, Monsters roll 1 less die for each Shrink Ray token they have on them. A Shrink Ray token can be discarded by using [heart] instead of gaining 1[health]."},{label:"Herd Culler",status:"active",type:"keep",cost:5,description:"You can change one of your dice to [1] each turn."},{label:"Camouflage",status:"inactive",type:"keep",cost:3,description:"If you lose [health], roll a die for each [health] you lost. Each [heart] reduces the loss by 1[health]."}];function ne(t,s,e){const l=t.slice();return l[21]=s[e][0],l[22]=s[e][1],l}function re(t,s,e){const l=t.slice();return l[25]=s[e],l}function ce(t,s,e){const l=t.slice();return l[25]=s[e],l}function ue(t){let s,e=t[5],l=[];for(let o=0;o<e.length;o+=1)l[o]=he(ce(t,e,o));return{c(){s=y("ul");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){s=f(o,"UL",{class:!0});var n=v(s);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(d),this.h()},h(){k(s,"class","keep-pile svelte-rc3mi8")},m(o,n){G(o,s,n);for(let a=0;a<l.length;a+=1)l[a].m(s,null)},p(o,n){if(n&1058){e=o[5];let a;for(a=0;a<e.length;a+=1){const p=ce(o,e,a);l[a]?l[a].p(p,n):(l[a]=he(p),l[a].c(),l[a].m(s,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=e.length}},d(o){o&&d(s),V(l,o)}}}function he(t){let s,e,l,o,n,a,p;function _(){return t[18](t[25])}return{c(){s=y("li"),e=y("button"),n=O(),this.h()},l(r){s=f(r,"LI",{});var c=v(s);e=f(c,"BUTTON",{class:!0,"aria-label":!0}),v(e).forEach(d),n=P(c),c.forEach(d),this.h()},h(){k(e,"class",l="die "+t[25].value+" svelte-rc3mi8"),k(e,"aria-label",o=t[25].value),e.disabled=t[10]},m(r,c){G(r,s,c),h(s,e),h(s,n),a||(p=z(e,"click",_),a=!0)},p(r,c){t=r,c&32&&l!==(l="die "+t[25].value+" svelte-rc3mi8")&&k(e,"class",l),c&32&&o!==(o=t[25].value)&&k(e,"aria-label",o),c&1024&&(e.disabled=t[10])},d(r){r&&d(s),a=!1,p()}}}function de(t){let s,e=t[6],l=[];for(let o=0;o<e.length;o+=1)l[o]=pe(re(t,e,o));return{c(){s=y("ul");for(let o=0;o<l.length;o+=1)l[o].c();this.h()},l(o){s=f(o,"UL",{class:!0});var n=v(s);for(let a=0;a<l.length;a+=1)l[a].l(n);n.forEach(d),this.h()},h(){k(s,"class","roll-pile svelte-rc3mi8")},m(o,n){G(o,s,n);for(let a=0;a<l.length;a+=1)l[a].m(s,null)},p(o,n){if(n&1090){e=o[6];let a;for(a=0;a<e.length;a+=1){const p=re(o,e,a);l[a]?l[a].p(p,n):(l[a]=pe(p),l[a].c(),l[a].m(s,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=e.length}},d(o){o&&d(s),V(l,o)}}}function pe(t){let s,e,l,o,n,a,p;function _(){return t[19](t[25])}return{c(){s=y("li"),e=y("button"),n=O(),this.h()},l(r){s=f(r,"LI",{});var c=v(s);e=f(c,"BUTTON",{class:!0,"aria-label":!0}),v(e).forEach(d),n=P(c),c.forEach(d),this.h()},h(){k(e,"class",l="die "+t[25].value+" svelte-rc3mi8"),k(e,"aria-label",o=t[25].value),e.disabled=t[10]},m(r,c){G(r,s,c),h(s,e),h(s,n),a||(p=z(e,"click",_),a=!0)},p(r,c){t=r,c&64&&l!==(l="die "+t[25].value+" svelte-rc3mi8")&&k(e,"class",l),c&64&&o!==(o=t[25].value)&&k(e,"aria-label",o),c&1024&&(e.disabled=t[10])},d(r){r&&d(s),a=!1,p()}}}function ye(t){let s,e,l=t[21]+"",o,n,a=t[22]+"",p,_;return{c(){s=y("li"),e=y("button"),o=U(l),n=U(": "),p=U(a),_=O(),this.h()},l(r){s=f(r,"LI",{});var c=v(s);e=f(c,"BUTTON",{});var w=v(e);o=F(w,l),n=F(w,": "),p=F(w,a),w.forEach(d),_=P(c),c.forEach(d),this.h()},h(){e.disabled=!0},m(r,c){G(r,s,c),h(s,e),h(e,o),h(e,n),h(e,p),h(s,_)},p(r,c){c&128&&l!==(l=r[21]+"")&&oe(o,l),c&128&&a!==(a=r[22]+"")&&oe(p,a)},d(r){r&&d(s)}}}function Se(t){let s,e,l,o,n,a,p,_,r,c,w,D,m,I,C,S,N,L,B,A,H,J,g=t[5].length&&ue(t),i=t[6].length&&de(t),M=Object.entries(t[7]),E=[];for(let u=0;u<M.length;u+=1)E[u]=ye(ne(t,M,u));return{c(){s=y("div"),e=y("section"),l=y("ul"),o=y("li"),n=y("button"),a=U("Roll Dice"),p=O(),_=y("li"),r=y("button"),c=U("Resolve"),w=O(),D=y("li"),m=y("button"),I=U("Reset"),C=O(),S=y("section"),g&&g.c(),N=O(),i&&i.c(),L=O(),B=y("section"),A=y("ul");for(let u=0;u<E.length;u+=1)E[u].c();this.h()},l(u){s=f(u,"DIV",{class:!0});var T=v(s);e=f(T,"SECTION",{class:!0});var b=v(e);l=f(b,"UL",{class:!0});var R=v(l);o=f(R,"LI",{});var K=v(o);n=f(K,"BUTTON",{class:!0});var Z=v(n);a=F(Z,"Roll Dice"),Z.forEach(d),K.forEach(d),p=P(R),_=f(R,"LI",{});var X=v(_);r=f(X,"BUTTON",{class:!0});var x=v(r);c=F(x,"Resolve"),x.forEach(d),X.forEach(d),w=P(R),D=f(R,"LI",{});var $=v(D);m=f($,"BUTTON",{class:!0});var ee=v(m);I=F(ee,"Reset"),ee.forEach(d),$.forEach(d),R.forEach(d),b.forEach(d),C=P(T),S=f(T,"SECTION",{class:!0});var j=v(S);g&&g.l(j),N=P(j),i&&i.l(j),j.forEach(d),L=P(T),B=f(T,"SECTION",{class:!0});var te=v(B);A=f(te,"UL",{class:!0});var le=v(A);for(let q=0;q<E.length;q+=1)E[q].l(le);le.forEach(d),te.forEach(d),T.forEach(d),this.h()},h(){k(n,"class","roll-dice"),n.disabled=t[9],k(r,"class","resolve-dice"),r.disabled=t[10],k(m,"class","reset-dice"),m.disabled=t[8],k(l,"class","svelte-rc3mi8"),k(e,"class","roll-nav svelte-rc3mi8"),k(S,"class","dice-piles svelte-rc3mi8"),k(A,"class","svelte-rc3mi8"),k(B,"class","resolve-pile svelte-rc3mi8"),k(s,"class","dice svelte-rc3mi8"),ae(s,"full-screen",t[0])},m(u,T){G(u,s,T),h(s,e),h(e,l),h(l,o),h(o,n),h(n,a),t[15](n),h(l,p),h(l,_),h(_,r),h(r,c),t[16](r),h(l,w),h(l,D),h(D,m),h(m,I),t[17](m),h(s,C),h(s,S),g&&g.m(S,null),h(S,N),i&&i.m(S,null),h(s,L),h(s,B),h(B,A);for(let b=0;b<E.length;b+=1)E[b].m(A,null);H||(J=[z(n,"click",t[13]),z(r,"click",t[11]),z(m,"click",t[12])],H=!0)},p(u,[T]){if(T&512&&(n.disabled=u[9]),T&1024&&(r.disabled=u[10]),T&256&&(m.disabled=u[8]),u[5].length?g?g.p(u,T):(g=ue(u),g.c(),g.m(S,N)):g&&(g.d(1),g=null),u[6].length?i?i.p(u,T):(i=de(u),i.c(),i.m(S,null)):i&&(i.d(1),i=null),T&128){M=Object.entries(u[7]);let b;for(b=0;b<M.length;b+=1){const R=ne(u,M,b);E[b]?E[b].p(R,T):(E[b]=ye(R),E[b].c(),E[b].m(A,null))}for(;b<E.length;b+=1)E[b].d(1);E.length=M.length}T&1&&ae(s,"full-screen",u[0])},i:se,o:se,d(u){u&&d(s),t[15](null),t[16](null),t[17](null),g&&g.d(),i&&i.d(),V(E,u),H=!1,ke(J)}}}function we(t,s,e){let l,o,n,a;me(t,Y,i=>e(1,a=i));let{fullScreen:p=!1}=s,_,r,c,w=[],D=[],m="initial",I=0,C=[];const S=()=>{e(7,C=Te(a)),e(14,m="resolved")},N=()=>{a.forEach((i,M)=>{W(Y,a[M].value="",a),W(Y,a[M].keep=!1,a)}),I=0,e(7,C=[]),e(14,m="initial")},L=()=>{e(14,m="rolling"),I<3?(a.forEach((i,M)=>{i.keep||W(Y,a[M].value=_e(Ee).label,a)}),I++,I===3&&S()):S()};function B(i){Q[i?"unshift":"push"](()=>{_=i,e(2,_)})}function A(i){Q[i?"unshift":"push"](()=>{r=i,e(3,r)})}function H(i){Q[i?"unshift":"push"](()=>{c=i,e(4,c)})}const J=i=>W(Y,a[i.id].keep=!i.keep,a),g=i=>W(Y,a[i.id].keep=!i.keep,a);return t.$$set=i=>{"fullScreen"in i&&e(0,p=i.fullScreen)},t.$$.update=()=>{t.$$.dirty&16384&&e(10,l=m!=="rolling"),t.$$.dirty&16384&&e(9,o=m==="resolved"),t.$$.dirty&16384&&e(8,n=m==="initial"),t.$$.dirty&2&&e(5,w=a.filter(i=>i.keep)),t.$$.dirty&2&&e(6,D=a.filter(i=>!i.keep))},[p,a,_,r,c,w,D,C,n,o,l,S,N,L,m,B,A,H,J,g]}class Ie extends fe{constructor(s){super(),ve(this,s,we,Se,be,{fullScreen:0})}}export{Ie as D,De as c,Re as s};
